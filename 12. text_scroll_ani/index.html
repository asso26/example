<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="top" style="height: 100vh; background-color: #ccc;"></div>

    <div class="main">
        <div class="cover">
            <div class="first-parallel"></div>
        </div>
        <div class="cover">
            <div class="second-parallel"></div>
        </div>
    </div>

    <div class="bottom" style="height: 100vh; background-color: #ccc;"></div>



    <script>
        let pTag1=document.querySelector(".first-parallel");
        let pTag2=document.querySelector(".second-parallel");

        let textArr1='Welcome Hello Welcome Hello Welcome Hello Welcome Hello'.split(' ');//띄워쓰기를 기준으로 잘라서 배열로 만든다
        //console.log(textArr1)
        let textArr2='My Portfolio My Portfolio My Portfolio My Portfolio'.split(" ")
        //console.log(textArr2)


        // let arr=[];
        // arr.push(...textArr1)
        // console.log(arr)

        let count1 = 0;
        let count2 = 0; 

        initTexts(pTag1,textArr1)
        initTexts(pTag2,textArr2)

        function initTexts(element, textArry ){
            textArry.push(...textArry)//8개의 배열에 동일한 배열을 복사하여 배열뒤에 넣음//16개
            // \u00A0 -->javascript에서의 공백을 나타냄
            //console.log(textArry)
            for(let i=0; i<textArry.length; i++){
                element.innerHTML +=`${textArry[i]}\u00A0\u00A0\u00A0`;

            }
        }
      //--------------------글자입력

      function animate(){
        count1++;
        //console.log(count1)
        count2++;
           
        count1 = marqueeText(count1,pTag1,-1)
        count2 = marqueeText(count2,pTag2,1)

       window.requestAnimationFrame(animate) 
       //setInterval의 업그레이드 된 버전
       //animate함수를 다시 실행
      }

      function marqueeText(count, element, direction){
        //.scrollWidth--> 보이지 않는 공간일지라도 스크롤해서 확인할수 있는 공간까지의 넓이 , 전체넓이
        //console.log(element.scrollWidth)
        if(count>element.scrollWidth /2){
            count=0;
            element.style.transform=`translate(0,0)`;
        }

        element.style.transform=`translate(${count * direction}px,0)`
        return  count;
      }
      function scrollHandler(){
         count1 += 25;
         count2 += 25;
      }

      animate();
      window.addEventListener("scroll",scrollHandler)
    </script>
</body>

</html>